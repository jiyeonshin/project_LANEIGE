<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/reset.css">
     <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js"></script>
    <title>Image slide</title>
</head>
<body>

                       <div class="galleryContents">


                        <!--UISlider 시작-->
                        <div class="UISlider_container">


                            <div class="UISlider_content">

                                <div class="UISlider_item">
                                    <ul>
                                        <li>
                                            <div class="UISlider_box">

                                                <a href="#" class="sliderbox_a">
                                                    <div class="slider_itemtxt">
                                                        <p class="tit">
                                                            [EVENT] 예쁘게 사~월
                                                        </p>
                                                        <p class="des">
                                                            예쁜 계절,4월에 더 이뻐지시라고<br> 아모레퍼시픽이 준비한 놀라운 혜택!
                                                        </p>
                                                    </div>
                                                    <div class="slider_imgwrap">
                                                        <div class="slider_img">
                                                            <img src="img/main_kv_banner/main-kv82_02.jpg" alt="">
                                                        </div>
                                                    </div>
                                                </a>

                                            </div>
                                        </li>
                                        <li>
                                            <div class="UISlider_box">
                                                <a href="#" class="sliderbox_a">
                                                    <div class="slider_itemtxt">
                                                        <p class="tit">
                                                            [NEW] 워터뱅크 모이스춰 에센스
                                                        </p>
                                                        <p class="des">
                                                            마르지 않는 보습 레시피!<br> 베지터블에서 추출한 그린 미네랄 워터가 피부를 맑고 촉촉하게
                                                        </p>
                                                    </div>
                                                    <div class="slider_imgwrap">
                                                        <div class="slider_img">
                                                            <img src="img/main_kv_banner/main-kv74_01.png" alt="">
                                                        </div>
                                                    </div>
                                                </a>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="UISlider_box">
                                                <a href="#" class="sliderbox_a">
                                                    <div class="slider_itemtxt">
                                                        <p class="tit">
                                                            [화제의 Hot Item] 레이어링 커버 쿠션
                                                        </p>
                                                        <p class="des">
                                                            컨실링 베이스로 잡티는 숨기고, 레이어링 쿠션으로 하루 종일 생기있게!<br> 컨실러 &#38; 쿠션 2in1 레이어링으로 연출하는 완벽한 커버
                                                        </p>
                                                    </div>
                                                    <div class="slider_imgwrap">
                                                        <div class="slider_img">
                                                            <img src="img/main_kv_banner/main-kv68.png" alt="">
                                                        </div>
                                                    </div>
                                                </a>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="UISlider_box">
                                                <a href="#" class="sliderbox_a">
                                                    <div class="slider_itemtxt">
                                                        <p class="tit">[NEW] 틴 틴트 밤</p>
                                                        <p class="des">
                                                            틴트의 생생한 컬러와 립밤의 촉촉 보습이 만나 탄생한<br> 내 손 안의 틴 틴트 밤
                                                        </p>
                                                    </div>
                                                    <div class="slider_imgwrap">
                                                        <div class="slider_img">
                                                            <img src="img/main_kv_banner/main-kv80.png" alt="">
                                                        </div>
                                                    </div>
                                                </a>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="UISlider_box">
                                                <a href="#" class="sliderbox_a">
                                                    <div class="slider_itemtxt">
                                                        <p class="tit">[NEW] 퍼팩트 메이크업 클렌징</p>
                                                        <p class="des">
                                                            워터프루프 메이크업까지 말끔히 지우는<br> 클렌징 워터 &#38; 티슈
                                                        </p>
                                                    </div>
                                                    <div class="slider_imgwrap">
                                                        <div class="slider_img">
                                                            <img src="img/main_kv_banner/main-kv79_01.jpg" alt="">
                                                        </div>
                                                    </div>
                                                </a>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="UISlider_box">
                                                <a href="#" class="sliderbox_a">
                                                    <div class="slider_itemtxt">
                                                        <p class="tit">
                                                            [NEW] 스킨베일 커버 파운데이션
                                                        </p>
                                                        <p class="des">
                                                            피부에 베일을 씌운 듯, 커버.지속.밀착까지 잡다<br> 완벽한 피부로 세팅되는 고밀착.고커버.고지속 파운데이션
                                                        </p>
                                                    </div>
                                                    <div class="slider_imgwrap">
                                                        <div class="slider_img">
                                                            <img src="img/main_kv_banner/main-kv81.png" alt="">
                                                        </div>
                                                    </div>
                                                </a>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!--UISlider 끝-->

                        <!--슬라이드 버튼 시작-->
                        <div class="gnb_kv">
                            <div class="play_btn">
                                <div class="play"></div>
                                <div class="stop"></div>
                            </div>
                            <div class="gnb_btn">
                                <ul>
                                    <li class="on"></li>
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                    <li></li>
                                </ul>
                            </div>
                        </div>
                        <!--슬라이드 버튼 끝-->

                        <!--화살표 버튼 끝-->
                        <div class="arrow_kv">
                            <div class="leftArrow"></div>
                            <div class="rightArrow"></div>
                        </div>
                        <!--화살표 버튼 끝-->

                    </div>
    
    
    <script>
      
        var imgs = $('.UISlider_item ul li');
        var imgs_count = $('.UISlider_item ul li').length;
        
        var gnb = $('.gnb_btn ul li');
        var arrow_kv = $('.arrow_kv');
        var arrowLeft = $('.leftArrow');
        var rightArrow = $('.rightArrow');
        
        var idx = 0;
        
        console.log(gnb.children().length);
        
        function fadeAutoGallery(e){
            idx++;
            imgs.eq(idx).fadeIn().siblings().fadeOut(400);
            console.log(idx);
            
            gnb.eq(idx).addClass('on').siblings().removeClass('on');
            
            if(idx>imgs_count-2){
                idx=-1;
            }
            
            
            var setIn = setInterval(fadeAutoGallery,2000);
            
            gnb.hover(
                function(e){
                    clearInterval(setIn);
                },function(e){
                    setIn=setInterval(fadeAutoGallery,2000);
                }
            );
            
            gnb.on('click',function(e){
               var key = $(this).index();
                
                imgs.eq(key).fadeIn(200).siblings().fadeOut(100);
                gnb.eq(key).addClass('on').siblings().removeClass('on');
                
                if(key==imgs_count-1){
                    idx=-1;
                    
                }else{
                    idx=key;
                }
            });
            
            arrow_kv.hover(
                function(e){
                    clearInterval(setIn);
                },function(e){
                    setIn=setInterval(fadeAutoGallery,2000);
                }
            );
            
            
            arrowLeft.on('click',function(e){
                console.log("in");
               idx--;
                imgs.eq(idx).fadeIn(300).siblings().fadeOut(200);
                gnb.eq(idx).addClass('on').siblings().removeClass('on');
                
            if(idx==0){
                idx = imgs_count;
                
            }else{
                idx =idx;
            }
            });
            
        rightArrow.on('click',function(e){
           idx++;
            imgs.eq(idx).fadeIn().siblings().fadeOut(400);
            
            gnb.eq(idx).addClass('on').siblings().removeClass('on');
            
            if(idx>imgs_count-2){
                idx =-1;
            }
        });
        }
        
        
        
        
        
        
    </script>
</body>
</html>